include ../../machine_settings.make
#
# LD_LIBRARY_PATH= is needed to make Python work
#
#LD_LIBRARY_PATH=
all: mea.nc
#
# even though we need all tif files listed below, just one rule target used here
#
rawdata/10n000e_20101117_gmted_bln300.tif:
	for f in $(wildcard rawdata/*.zip); do \
		unzip -d rawdata $$f; \
	done;

mea.tif: rawdata/10n000e_20101117_gmted_bln300.tif
	$(python_path)/gdal_merge.py $(tif_files) -o mea.tif


mea.nc: mea.tif
	$(python_path)/gdal_translate -of netCDF mea.tif mea.nc


gmted2010_elevation_and_landfrac_modis_sft.nc:
	$(python_path)/python create_gmted2010_modis.py ../modis/landwater.nc mea.nc gmted2010_elevation_and_landfrac_modis.nc
	$(python_path)/python shift.py gmted2010_elevation_and_landfrac_modis.nc gmted2010_elevation_and_landfrac_modis_sft.nc
	rm gmted2010_elevation_and_landfrac_modis.nc

clean:
	rm rawdata/*.tif
	rm mea.tif

tif_files = rawdata/10s120w_20101117_gmted_mea300.tif rawdata/30n000e_20101117_gmted_mea300.tif rawdata/10n120w_20101117_gmted_mea300.tif rawdata/50n120e_20101117_gmted_mea300.tif rawdata/30n120e_20101117_gmted_mea300.tif rawdata/10n120e_20101117_gmted_mea300.tif rawdata/70n120e_20101117_gmted_mea300.tif rawdata/30s180w_20101117_gmted_mea300.tif rawdata/70s180w_20101117_gmted_mea300.tif rawdata/50s180w_20101117_gmted_mea300.tif rawdata/50s030w_20101117_gmted_mea300.tif rawdata/10s030w_20101117_gmted_mea300.tif rawdata/10s180w_20101117_gmted_mea300.tif rawdata/70n030w_20101117_gmted_mea300.tif rawdata/90s030e_20101117_gmted_mea300.tif rawdata/30n060w_20101117_gmted_mea300.tif rawdata/30s030e_20101117_gmted_mea300.tif rawdata/90S180W_20101117_gmted_mea300.tif rawdata/70s120w_20101117_gmted_mea300.tif rawdata/30s120w_20101117_gmted_mea300.tif rawdata/30n060e_20101117_gmted_mea300.tif rawdata/50n150w_20101117_gmted_mea300.tif rawdata/10n150w_20101117_gmted_mea300.tif rawdata/90S120W_20101117_gmted_mea300.tif rawdata/10n180w_20101117_gmted_mea300.tif rawdata/50n090w_20101117_gmted_mea300.tif rawdata/70n000e_20101117_gmted_mea300.tif rawdata/50n000e_20101117_gmted_mea300.tif rawdata/70s150e_20101117_gmted_mea300.tif rawdata/10s150e_20101117_gmted_mea300.tif rawdata/30s150w_20101117_gmted_mea300.tif rawdata/50n090e_20101117_gmted_mea300.tif rawdata/50n060e_20101117_gmted_mea300.tif rawdata/50n150e_20101117_gmted_mea300.tif rawdata/50s150e_20101117_gmted_mea300.tif rawdata/50s000e_20101117_gmted_mea300.tif rawdata/30s150e_20101117_gmted_mea300.tif rawdata/70N090E_20101117_gmted_mea300.tif rawdata/50n060w_20101117_gmted_mea300.tif rawdata/90S150E_20101117_gmted_mea300.tif rawdata/70s090w_20101117_gmted_mea300.tif rawdata/50s060w_20101117_gmted_mea300.tif rawdata/10s090w_20101117_gmted_mea300.tif rawdata/10s060w_20101117_gmted_mea300.tif rawdata/50n030w_20101117_gmted_mea300.tif rawdata/10n030w_20101117_gmted_mea300.tif rawdata/70n180w_20101117_gmted_mea300.tif rawdata/30n180w_20101117_gmted_mea300.tif rawdata/90S090E_20101117_gmted_mea300.tif rawdata/90S060W_20101117_gmted_mea300.tif rawdata/10n060e_20101117_gmted_mea300.tif rawdata/70n030e_20101117_gmted_mea300.tif rawdata/50s090w_20101117_gmted_mea300.tif rawdata/30n090e_20101117_gmted_mea300.tif rawdata/70n120w_20101117_gmted_mea300.tif rawdata/50n120w_20101117_gmted_mea300.tif rawdata/10n000e_20101117_gmted_mea300.tif rawdata/30s090w_20101117_gmted_mea300.tif rawdata/30n150w_20101117_gmted_mea300.tif rawdata/70s030e_20101117_gmted_mea300.tif rawdata/70s060w_20101117_gmted_mea300.tif rawdata/30s060w_20101117_gmted_mea300.tif rawdata/10n030e_20101117_gmted_mea300.tif rawdata/30n030w_20101117_gmted_mea300.tif rawdata/50s030e_20101117_gmted_mea300.tif rawdata/90S090W_20101117_gmted_mea300.tif rawdata/70s120e_20101117_gmted_mea300.tif rawdata/50s120e_20101117_gmted_mea300.tif rawdata/10s120e_20101117_gmted_mea300.tif rawdata/30s060e_20101117_gmted_mea300.tif rawdata/70N060E_20101117_gmted_mea300.tif rawdata/30n150e_20101117_gmted_mea300.tif rawdata/10n090e_20101117_gmted_mea300.tif rawdata/90S120E_20101117_gmted_mea300.tif rawdata/10s030e_20101117_gmted_mea300.tif rawdata/90s060e_20101117_gmted_mea300.tif rawdata/50s090e_20101117_gmted_mea300.tif rawdata/30s090e_20101117_gmted_mea300.tif rawdata/30s000e_20101117_gmted_mea300.tif rawdata/30n120w_20101117_gmted_mea300.tif rawdata/10s000e_20101117_gmted_mea300.tif rawdata/70s150w_20101117_gmted_mea300.tif rawdata/50s150w_20101117_gmted_mea300.tif rawdata/10s150w_20101117_gmted_mea300.tif rawdata/70n090w_20101117_gmted_mea300.tif rawdata/70n060w_20101117_gmted_mea300.tif rawdata/30n090w_20101117_gmted_mea300.tif rawdata/10n090w_20101117_gmted_mea300.tif rawdata/10n060w_20101117_gmted_mea300.tif rawdata/50n180w_20101117_gmted_mea300.tif rawdata/90s030w_20101117_gmted_mea300.tif rawdata/50s060e_20101117_gmted_mea300.tif rawdata/70s030w_20101117_gmted_mea300.tif rawdata/30s120e_20101117_gmted_mea300.tif rawdata/30s030w_20101117_gmted_mea300.tif rawdata/70n150w_20101117_gmted_mea300.tif rawdata/90S150W_20101117_gmted_mea300.tif rawdata/50n030e_20101117_gmted_mea300.tif rawdata/30n030e_20101117_gmted_mea300.tif rawdata/90s000e_20101117_gmted_mea300.tif rawdata/70s000e_20101117_gmted_mea300.tif rawdata/70s090e_20101117_gmted_mea300.tif rawdata/70s060e_20101117_gmted_mea300.tif rawdata/10s090e_20101117_gmted_mea300.tif rawdata/10s060e_20101117_gmted_mea300.tif rawdata/70n150e_20101117_gmted_mea300.tif rawdata/10n150e_20101117_gmted_mea300.tif rawdata/50s120w_20101117_gmted_mea300.tif
