
             MODIS Land Digital Elevation Model and Land/Water Mask 
  	                 in the Sinusoidal Grid
                               Version 6.0

Generated by: Robert Wolfe, NASA GSFC Code 619, June 13, 2013


Description:
------------

This is version 6.0 of the Land/sea mask and Digital Elevation Model (DEM) in 
the sinusoidal grid with a horizontal resolutions of 30 arcsec (~928 m) and
15 arcsec (~464 m).  This data was reprojected from data originally in the 
geographic map projection and is broken into the MODIS Land (MODLAND) tile 
system and written to two sets of tiles in HDF-EOS format.  A coarse 
resolution data set at 1/20 deg (~5.57 km) is provided in each tile.


Source Data:
------------

The MODIS Collection 6 1-km and 500-m Digital Elevation Model (DEM) and 
land/sea mask accessed through the SDP toolkit.  The original DEM is from the 
GMTED2010 dataset and the land/sea mask is was derived by University of Maryland
from MODIS 250-m data and the SRTM Water Body data (see references below).


Differences from previous data set:
-----------------------------------

There are a number of differences in this data set from the previous one 
(Version 5.0):

1. The latest version of the MODIS DEM was used in generating this dataset. 
The GMTED2010 replaced the SRTM 30 data with some changes in the non-polar 
areas but most of the changes at the poles (above 60N and below 58S). 
The land/sea mask is derived at 250 m from MODIS data and is substantially 
different than the C5 version derived at 1 km.

2. Two version of the data set are available, one at 30 arcsec (~928 m), 
referred to as "1km", and a second at 15 arcsec (~464 m), referred to as "500m".

3. The shoreline pixels are restored, that is, in addition to any shoreline 
pixels that are mapped as shoreline, any pixel touching water is set to 
shoreline.

4. Also see issues/concerns below.


Location and file names:
------------------------

The data set resides on the landsc1.nascom.nasa.gov computer at 

  /sc1/rwolfe/dem/SIN/land/<res>
  
where 

  <res> is "1km" or "500m"
  
It is also available on the public ftp site at:

  ftp://landsc1.nascom.nasa.gov/pub/outgoing/c6_dem/sin_<res>

The files are named

  DEM_SN.h<nn>v<mm>_<cres>.006_0.hdf

where 

  <cres> is the resolution character ("A" for 1 km or "H" for 500 m)
  <nn> is the horizontal tile number (0 to 35)
  <mm> is the vertical tile number (0 to 17)

There are two other directories that contain the tiles which do not 
contain land.  These files in these directories are text files and correspond
to the type of data for that tile.  The two directories are

  /sc1/rwolfe/dem/SIN/<res>/fill
  /sc1/rwolfe/dem/SIN/<res>/ocean
  
The files in these directories have a type suffix that depends on their 
contents: 
  
  "fill" for a tile which is entirely fill
  "deep_ocean" for a tile which is entirely deep ocean or fill
  "mixed_ocean" for a tile which is entirely deep ocean, moderate ocean or fill

For comparison purposes the previous version of the data set is located at 

  /sc1/rwolfe/dem/SIN/old_v5_0 (and on the corresponding c6_dem ftp site)

The original DEM used in MODIS Collection 6 is at 

  ftp://landsc1.nascom.nasa.gov/pub/outgoing/c6_dem/geo
  
The original Land/water mask used in MODIS Collection 6 (generated from 
Collection 5 inputs) is at 

  ftp://landsc1.nascom.nasa.gov/pub/outgoing/c6_dem/lwm_c5


Format:
-------

There are four SDSs stored at full resolution, either at 30 arcsec (~928 m)
or 15 arcsec (~464 m):

 LandWater (uint8): Land/water Mask
    0 = shallow ocean
    1 = land
    2 = shoreline
    3 = shallow inland water
    4 = ephemeral water
    5 = deep inland water
    6 = moderate ocean
    7 = deep ocean
    237 = fill

 Elevation (int16): Elevation
    Terrain elevation in meters; -9999 is the fill value; 
    height relative to the WGS 84 geoid

 Slope (uint8): Slope
    Terrain slope in degrees; 237 is the fill value;
    angle between local normal and geodetic normal;
    range is 0 to 90

 Aspect (int16): Aspect
    Terrain aspect in degrees; -9999 is the fill value;
    clockwise rotation of the local normal about the geodetic normal;
    range is 0 to 360

In addition, there are 10 SDSs stored at reduced resolution (0.05 degrees, 
~5.57 km):

  ElevationCoarse (int16): Mean Elevation - Coarse
  MinElevCoarse (int16): Minimum Elevation - Coarse
  MaxElevCoarse (int16): Maximum Elevation - Coarse
  MinElevInArea (int16): Minimum Elevation in Area - Coarse
  MaxElevInArea (int16): Maximum Elevation in Area - Coarse
  Datum (int16): Datum Elevation - Coarse
  SlopeCoarse (uint8): Slope - Coarse
  AspectCoarse (uint8): Aspect - Coarse
  SlopepeLandOnlyCoarse (uint8): Slope (land only) - Coarse
  AspectLandOnlyCoarse (uint8): Aspect (land only) - Coarse
  
Each of these coarse elevation values are in meters and have -9999 as the fill 
value.  The mean, minimum and maximum elevations are relative to the WGS 84 
geoid and are for the coarse grid cell.

The datum is the WGS 84 geoid height relative to the WGS 84 ellipsoid model and
is the mean for the coarse grid cell.
 
The minimum and maximum elevation in the area are the elevation extremes in 
an area ~27.8 km area surrounding the coarse resolution pixel.

The slope and aspect are the mean slope and aspect for the coarse grid cell and
have the same range and fill values as the fine resolution values.

The "land only" slope and aspect are the mean slope and aspect for the coarse 
grid cell using only the fine resolution pixels that are land or inland water. 
They have the same range and fill values as the fine resolution values.


Method:
-------

To generate the land/water masks, 16 points were mapped from each input 
geographic grid cell to the output fine resolution sinusoidal grid cells.  
Each output grid cell contain at least 16 input values and some near the poles 
contain many more.  The counts are weighted by the cosine of the geographic 
grid cell center latitude. The land/water class is the class in the output 
cell with the highest weighted count.  A final iteration is used to classify
all land pixels touching water as shoreline.

If the entire file is fill data, a text "fill" file is created.  If the entire 
fill is deep ocean, moderate ocean or only deep and moderate ocean, a 
"deep_ocean", "moderate_ocean" or "mixed_ocean" text file is created.  The 
text files contain the number of pixels in each ocean class.

For the elevation value the same 16 points were also mapped from each the 
input grid cell to the output grid cells.  The elevations are weighed in the 
same way as land/water mask values.  The elevation is the weighted mean of all 
of the points which fall in the output grid cell.

The fine resolution slope and aspect are first calculated by computing the 
normal to the terrain data in the original geographic DEM.  The computation
of the terrain normal is done using the distance and the change in elevation 
from the center point to the North, East, South and West neighbors.  The normal 
for each point is then mapped weighted in the same way as the elevation data to 
obtain the mean value for each output grid cell.  The slope and aspect are
then calculated from the deviation of the terrain normal from the local 
geodetic normal.

The coarse minimum and maximum elevations are obtained by finding the maximum 
and minimum elevation for each fine resolution pixel within the coarse 
resolution area.  Each 6 x 6 fine resolution pixel area corresponds to a 
single coarse resolution pixel.

The "land only" coarse slope and aspect are computed the same way as the 
coarse slope and aspect except that only those fine resolution pixels that 
are land or inland water. Specifically, the only fine resolution pixels of 
the following five classes are used: land (1), shoreline (2), shallow inland 
water (2), ephemeral water (4) and deep inland water (5).

For the coarse min/max elevation in the area and the datum elevation, these 
values are read from a secondary summary data set with a 0.25 degree resolution 
in the geographic grid.  In this secondary data-set, the minimum and maximum 
values in the area were generated by searching outward ~27.8 km from each 
side of the 0.25 degree area.


Data Set Size:
--------------

  648 files total
  328 land files (*.hdf)
  188 fill files (*.fill)
  132 deep or mixed ocean files (*.deep_ocean or *.mixed_ocean)

  682 MB (2,043 MB) for entire data 1-km (500-m) set
  2.08 MB (6.23 MB) per land 1-km (500-m) tile (average size)


Issues/concerns:
----------------

1. There is a large change in the amount of shallow ocean and inland water 
in this version of the DEM. It is defined as water less than 50 m deep or less 
than 5 km from the shoreline.  It isn't clear why the shallow water masks are 
so different between the two data sets.

2. There were three areas in the DEM that had to be "fixed" to produce a valid
DEM for "voids" in the original DEM. The values were filled with values 
linearly interpolated from the nearest non-fill values on the left and 
right of the void. The three ares are: 

   a. A 0.25 degree square (240 500-m pixels square) area with the South-West 
corner located at -86.75 W and 47.75 S.

   b. A 30 arcsec (two 500-m pixels) wide area at -60 W with a height 6 degree 
height (3314 500-m pixels) starting at 76 N and extending to 82 N.

   c. A 15 arcsec hold (one 500-m pixel) at -36.50 W and 74.00 N.

3. It is possible that an pre-release version of the DEM was used as part of the
MODIS C6 reprocessing.

4. To maintain compatibility between the tiles in this version and the previous
version, six tiles were "fixed" in this version.  

   a. Tiles h31v04, h04v05, h03v08 and h12v16 -- In this version, four tiles 
did not contain land or shallow ocean, but contained shallow ocean in the 
previous version.  These tiles were generated as land tiles in this new 
version.  In the future, these tiles may no longer be considered "land" and 
will not be generated.

   b. Tiles h24v09 and h14v13 -- In this version, two tiles that were
"mixed_ocean" in the previous version had shallow water in the new version.  
These tiles would have been "land" tiles in the new version, but instead are 
treated as "mixed_ocean" in this version.

4. There are four tiles that went from one ocean class in the previous version
to different ocean class in this version (e.g. from deep_ocean to 
"mixed_ocean"). The four tiles are: h20v00, h15v08, h09v11 and h20v14.


References:
-----------

1. Global Multi-resolution Terrain Elevation Data 2010 (GMTED2010), 
   Jeffrey J. Danielson and Dean B. Gesch, USGS Open-File Report 2011-1073.

   The version used to generate this data set is located at:
   
     ftp://landsc1.nascom.nasa.gov/pub/outgoing/geo
     
   See the "DEM_README.txt" file for more information.

2. The MODIS land/water mask documentation:

   MOD44W: Land Water Mask Derived from MODIS and SRTM L3 Global 250m SIN Grid
   
     https://lpdaac.usgs.gov/products/modis_products_table/mod44w
     
   The original tiles are also located at:
   
     ftp://landsc1.nascom.nasa.gov/pub/outgoing/c6_dem/lwm_c5  

   The user's guide is:

     UMD Global 250 meter Land Water Mask User Guide, Mark Carroll, 
        Charlene DiMiceli, John Townshend, Praveen Noojipady, Robert Sohlberg

       http://landcover.org/library/guide/techguide_watermask.pdf


Contact Information:
--------------------

  Robert E. Wolfe
  MODIS Science Team Support
  
  NASA Goddard Space Flight Center
  Code 619, Bld. 32, Rm. S36G
  Greenbelt Rd.
  Greenbelt, MD 20771

  e. robert.e.wolfe@gsfc.nasa.gov
  p. 301-614-5508  f. 301-614-5269
  
